# গো গেম (Go Game): বিস্তারিত টেকনিক্যাল ডকুমেন্টেশন এবং কাজের ধারা

এই ডকুমেন্টটিতে গো গেমের প্রতিটি ফাংশন, অবজেক্টের আদান-প্রদান এবং গেমের পূর্ণাঙ্গ ওয়ার্কফ্লো (Workflow) বিস্তারিতভাবে বর্ণনা করা হয়েছে।

---

## ১. মডিউল এবং অবজেক্ট স্ট্রাকচার (Structure)

গেমটি তিনটি মূল অবজেক্টের ওপর ভিত্তি করে চলে:

- **`GoGame` (Object):** এটি গেমের ইঞ্জিন। এটি বোর্ড স্টেট, স্কোর এবং নিয়মাবলী ধরে রাখে।
- **`GoAI` (Object):** এটি গেমের মস্তিষ্ক। এটি `GoGame` অবজেক্টকে ইনপুট হিসেবে নেয় এবং সেরা চালটি খুঁজে বের করে।
- **`GoGUI` (Object):** এটি গেমের ইন্টারফেস। এটি ইউজার এবং এআই-এর মধ্যে যোগসূত্র তৈরি করে।

---

## ২. ফাংশনভিত্তিক বিস্তারিত বর্ণনা (Detailed Function Description)

### ২.১ `go_logic.py` (গেম ইঞ্জিন)

| ফাংশন           | কখন কাজ করে                                 | কি ডেটা ইনপুট নেয়   | ফলাফল (Output)                                                                 |
| :-------------- | :------------------------------------------ | :------------------ | :----------------------------------------------------------------------------- |
| `__init__`      | যখন গেম শুরু হয়।                            | `size` (বোর্ড সাইজ) | একটি খালি বোর্ড এবং প্রাথমিক স্কোর সেটআপ করে।                                  |
| `get_liberties` | কোনো পাথর বসানোর পর বা এআই চিন্তা করার সময়। | `r, c` (স্থানাঙ্ক)  | ওই পাথরের গ্রুপের নিঃশ্বাস নেওয়ার জায়গা (Liberties) এবং গ্রুপের পাথরের সংখ্যা। |
| `is_valid_move` | প্লেয়ার বা এআই ক্লিক করার সঙ্গে সঙ্গে।      | `r, c, color`       | চালটি বৈধ হলে `True`, না হলে `False`।                                          |
| `place_stone`   | `is_valid_move` সফল হওয়ার পর।               | `r, c, color`       | পাথর বসায়, ক্যাপচার হওয়া পাথর সরিয়ে ফেলে এবং পালা (Turn) পরিবর্তন করে।         |
| `get_territory` | গেম শেষে বা স্কোর দেখানোর সময়।              | -                   | কালো এবং সাদা প্লেয়ারের দখল করা এলাকা (Territory) গণনা করে।                    |
| `score`         | প্রতিবার বোর্ড ড্র করার সময়।                | -                   | বর্তমান মোট স্কোর (পাথর + এলাকা + কোমি) প্রদান করে।                            |

### ২.২ `ai.py` (কৃত্রিম বুদ্ধিমত্তা)

| ফাংশন           | কখন কাজ করে                         | কি ডেটা ইনপুট নেয়          | ফলাফল (Output)                                           |
| :-------------- | :---------------------------------- | :------------------------- | :------------------------------------------------------- |
| `get_best_move` | যখন এআই-এর চাল দেওয়ার সময় হয়।       | `game` (GoGame অবজেক্ট)    | সেরা চালের স্থানাঙ্ক `(r, c)`।                           |
| `minimax`       | `get_best_move` এর ভেতর থেকে কল হয়। | `game, depth, alpha, beta` | ওই চালের জন্য একটি স্কোর (Value)।                        |
| `evaluate`      | মিনিম্যাক্স অ্যালগরিদমের শেষে।      | `game` (GoGame অবজেক্ট)    | ওই পজিশনটি এআই-এর জন্য কতটা লাভজনক তার একটি নম্বর।       |
| `clone_game`    | মিনিম্যাক্স সিমুলেশনের সময়।         | `game`                     | আসল গেমের একটি হুবহু কপি যাতে এআই কল্পনায় চাল দিতে পারে। |

---

## ৩. ওয়ার্কফ্লো এবং ডেটা ট্রান্সফার (Step-by-Step Workflow)

### ধাপ ১: ইনিশিয়ালাইজেশন (Initialization)

- `main.py` থেকে `GoGUI()` অবজেক্ট তৈরি হয়।
- এটি ভেতরে একটি `GoGame()` এবং একটি `GoAI()` অবজেক্ট তৈরি করে।
- **ডেটা পাস:** `GoGame` অবজেক্টটি `GoGUI`-এর মেমোরিতে সংরক্ষিত থাকে যাতে সবাই এটি ব্যবহার করতে পারে।

### ধাপ ২: হিউম্যান টার্ন (Human Interaction)

1. ইউজার মাউস দিয়ে ক্লীক করলে `GoGUI.get_cell_from_pos()` কল হয়। এটি স্ক্রিন পিক্সেলকে গ্রিড স্থানাঙ্ক `(r, c)`-এ রূপান্তর করে।
2. এই স্থানাঙ্কটি `GoGame.place_stone(r, c, BLACK)` ফাংশনে পাঠানো হয়।
3. ভেতরে `is_valid_move` কল হয়ে নিয়মগুলো পরীক্ষা করে।
4. পাথর বসানো হলে `get_liberties` কল হয়ে ক্যাপচার হওয়া পাথরগুলো মুছে ফেলে।

### ধাপ ৩: এআই টার্ন (AI Logic)

1. `main_loop` যখন দেখে পালা এখন সাদা পাথরের, তখন সে `GoAI.get_best_move(self.game)` কল করে।
2. **অবজেক্ট ট্রান্সফার:** এখানে পুরো `self.game` (GoGame অবজেক্টটি) এআই-এর কাছে পাঠিয়ে দেওয়া হয়।
3. এআই `clone_game()` ব্যবহার করে গেমটির কপি তৈরি করে এবং `minimax()` চালিয়ে দেখে কোন চালটি সেরা।
4. এআই সেরা স্থানাঙ্ক `(r, c)` রিটার্ন করে এবং `main.py` সেটি ব্যবহার করে `GoGame.place_stone(r, c, WHITE)` কল করে।

### ধাপ ৪: রেন্ডারিং এবং আপডেট (UI Update)

- প্রতি লুপে `draw_board()` এবং `draw_ui()` কল হয়।
- এগুলো `GoGame.board` থেকে পাথরের পজিশন পড়ে স্ক্রিনে ড্র করে।
- `GoGame.score()` কল হয়ে পয়েন্টগুলো স্ক্রনের নিচের প্যানেলে দেখায়।

---

## ৪. ডেটা ফ্লো চার্ট (Data Flow Summary)

```
Mouse Click (Pixels) -> main.py (Coordinates) -> go_logic.py (Validation)
                                                        |
                                                        v
        (Board Updates) <--- (Capture/Score) <--- (Place Stone)
              |
              v
       (Pass Object) ------> ai.py (Simulation/Minimax)
                                        |
                                        v
       (Coordinates) <------- (Best Move Selection)
```

এই সিস্টেমের মূল ভিত্তি হলো **অবজেক্ট ওরিয়েন্টেড ডিজাইন**, যেখানে `GoGame` অবজেক্টটি তথ্যের আধার হিসেবে কাজ করে এবং `AI` ও `GUI` সেটি ব্যবহার করে কাজ সম্পন্ন করে।
